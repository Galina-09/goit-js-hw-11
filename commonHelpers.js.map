{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '41864490-ab1aa9c4772cfd6b871252eca';\n\nfunction fetchImage(\n  qWorld,\n  image_type = 'all',\n  orientation = 'horizontal',\n  safesearch = true\n) {\n  return fetch(\n    `${BASE_URL}/?key=${API_KEY}&q=${qWorld}&image_type=${image_type}&orientation=${orientation}&safesearch=${safesearch}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json(); //повертає масив обєктів\n  });\n}\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n  searchForm: document.querySelector('.search-form'),\n};\n\nrefs.searchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  const form = event.currentTarget;\n  const query = form.elements.query.value;\n\n  //console.log(query);\n\n  fetchImage(query)\n    .then(renderImage)\n    .catch(onFetchError)\n    .finally(() => form.reset());\n}\n\nfunction renderImage({ hits }) {\n  const markup = hits\n    .map(\n      ({\n        comments,\n        downloads,\n        largeImageURL,\n        likes,\n        webformatURL,\n        tags,\n        views,\n      }) =>\n        `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\" target=\"_blank\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\">\n          <ul class=\"gallery-item-description\">\n            <li>Likes: ${likes}</li>\n            <li>Views: ${views}</li>\n            <li>Downloads: ${downloads}</li>\n            <li>Comments: ${comments}</li>\n          </ul>\n        </a>\n      </li>`\n    )\n    .join('');\n  refs.gallery.innerHTML = markup;\n\n  const gallery = new SimpleLightbox('.gallery-item a', {\n    // Створення нового об'єкту SimpleLightbox , коли оновлюється галерея\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  gallery.refresh(); // Виклик метод refresh() після оновлення контенту\n}\n\nfunction onFetchError(error) {\n  alert('Упс, щось пішло не так і ми не знайшли вашого покемона!');\n  console.error(error);\n}\n"],"names":["BASE_URL","API_KEY","fetchImage","qWorld","image_type","orientation","safesearch","resp","refs","handleSearch","event","form","query","renderImage","onFetchError","hits","markup","comments","downloads","largeImageURL","likes","webformatURL","tags","views","SimpleLightbox","error"],"mappings":"svBAGA,MAAMA,EAAW,0BACXC,EAAU,qCAEhB,SAASC,EACPC,EACAC,EAAa,MACbC,EAAc,aACdC,EAAa,GACb,CACA,OAAO,MACL,GAAGN,UAAiBC,OAAaE,gBAAqBC,iBAA0BC,gBAA0BC,GAC9G,EAAI,KAAKC,GAAQ,CACb,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAGjC,OAAOA,EAAK,MAChB,CAAG,CACH,CAEA,MAAMC,EAAO,CACX,QAAS,SAAS,cAAc,UAAU,EAC1C,WAAY,SAAS,cAAc,cAAc,CACnD,EAEAA,EAAK,WAAW,iBAAiB,SAAUC,CAAY,EAEvD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAQD,EAAK,SAAS,MAAM,MAIlCT,EAAWU,CAAK,EACb,KAAKC,CAAW,EAChB,MAAMC,CAAY,EAClB,QAAQ,IAAMH,EAAK,MAAK,CAAE,CAC/B,CAEA,SAASE,EAAY,CAAE,KAAAE,GAAQ,CAC7B,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,SAAAE,EACA,UAAAC,EACA,cAAAC,EACA,MAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,CACD,IACC;AAAA,wCACgCJ;AAAA,4CACIE,WAAsBC;AAAA;AAAA,yBAEzCF;AAAA,yBACAG;AAAA,6BACIL;AAAA,4BACDD;AAAA;AAAA;AAAA,YAIvB,EACA,KAAK,EAAE,EACVT,EAAK,QAAQ,UAAYQ,EAET,IAAIQ,EAAe,kBAAmB,CAEpD,aAAc,MACd,aAAc,GAClB,CAAG,EAEO,QAAO,CACjB,CAEA,SAASV,EAAaW,EAAO,CAC3B,MAAM,yDAAyD,EAC/D,QAAQ,MAAMA,CAAK,CACrB"}